<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Editar apuesta</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    form { max-width: 640px; }
    fieldset { margin-bottom: 14px; }
    label { display:block; margin-top:8px; }
    input, select { width:100%; padding:8px; box-sizing:border-box; }
    .actions { margin-top: 12px; display:flex; gap:8px; align-items:center; }
    .btn { display:inline-block; padding:8px 12px; background:#2c3e50; color:#fff; text-decoration:none; border:none; border-radius:4px; cursor:pointer; }
    .btn:hover { background:#34495e; }
    .link { color:#2c3e50; text-decoration:none; }
    .link:hover { text-decoration:underline; }
  </style>
</head>
<body>
  <h1 class="title">Editar apuesta #{{ apuesta.id }}</h1>

  <form method="post" action="/apuestas/{{ apuesta.id }}/editar">
    <fieldset>
      <legend>Datos básicos</legend>
      <label>Apuesta</label>
      <input name="apuesta" type="text" value="{{ apuesta.apuesta }}" required />

      <label>Categoría</label>
      <select name="categoria" required>
        {% for categoria in categorias %}
          <option value="{{ categoria }}" {% if apuesta.categoria == categoria %}selected{% endif %}>{{ categoria }}</option>
        {% endfor %}
      </select>

      <label>Tipo</label>
      <select name="tipo" required>
        <option value="corta" {% if apuesta.tipo == "corta" %}selected{% endif %}>corta</option>
        <option value="larga" {% if apuesta.tipo == "larga" %}selected{% endif %}>larga</option>
      </select>

      <label>Multiplica (corderos)</label>
      <select name="multiplica" required>
        {% for opcion in multiplica_opciones %}
          <option value="{{ opcion }}" {% if apuesta.multiplica == opcion %}selected{% endif %}>{{ opcion }}</option>
        {% endfor %}
      </select>
    </fieldset>

    <fieldset>
      <legend>Participantes (opcional)</legend>
      <label>Apostante 1</label>
      <select name="apostante1">
        <option value="">-- Selecciona --</option>
        {% for usuario in usuarios %}
          <option value="{{ usuario }}" {% if apuesta.apostante1 == usuario %}selected{% endif %}>{{ usuario }}</option>
        {% endfor %}
      </select>
      <label>Apostante 2</label>
      <select name="apostante2">
        <option value="">-- Selecciona --</option>
        {% for usuario in usuarios %}
          <option value="{{ usuario }}" {% if apuesta.apostante2 == usuario %}selected{% endif %}>{{ usuario }}</option>
        {% endfor %}
      </select>
      <label>Apostante 3</label>
      <select name="apostante3">
        <option value="">-- Selecciona --</option>
        {% for usuario in usuarios %}
          <option value="{{ usuario }}" {% if apuesta.apostante3 == usuario %}selected{% endif %}>{{ usuario }}</option>
        {% endfor %}
      </select>
    </fieldset>

    <fieldset>
      <legend>Apostado (opcional)</legend>
      <label>Apostado 1</label><input name="apostado1" type="text" value="{{ apuesta.apostado1 or '' }}" />
      <label>Apostado 2</label><input name="apostado2" type="text" value="{{ apuesta.apostado2 or '' }}" />
      <label>Apostado 3</label><input name="apostado3" type="text" value="{{ apuesta.apostado3 or '' }}" />
    </fieldset>

    <fieldset>
      <legend>Resultado (opcional)</legend>
      <label>Ganador 1</label>
      <select name="ganador1">
        <option value="">-- Selecciona --</option>
        {% for usuario in usuarios %}
          <option value="{{ usuario }}" {% if apuesta.ganador1 == usuario %}selected{% endif %}>{{ usuario }}</option>
        {% endfor %}
      </select>
      <label>Ganador 2</label>
      <select name="ganador2">
        <option value="">-- Selecciona --</option>
        {% for usuario in usuarios %}
          <option value="{{ usuario }}" {% if apuesta.ganador2 == usuario %}selected{% endif %}>{{ usuario }}</option>
        {% endfor %}
      </select>
      <label>Perdedor 1</label>
      <select name="perdedor1">
        <option value="">-- Selecciona --</option>
        {% for usuario in usuarios %}
          <option value="{{ usuario }}" {% if apuesta.perdedor1 == usuario %}selected{% endif %}>{{ usuario }}</option>
        {% endfor %}
      </select>
      <label>Perdedor 2</label>
      <select name="perdedor2">
        <option value="">-- Selecciona --</option>
        {% for usuario in usuarios %}
          <option value="{{ usuario }}" {% if apuesta.perdedor2 == usuario %}selected{% endif %}>{{ usuario }}</option>
        {% endfor %}
      </select>
    </fieldset>

    <div class="actions">
      <button type="submit" class="btn">Guardar cambios</button>
      <a href="/bets" class="link">Cancelar</a>
    </div>
  </form>
</body>
</html>
